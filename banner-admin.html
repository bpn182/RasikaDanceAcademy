<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banner Admin - Rasika Dance Academy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-100 min-h-screen">
    <div class="max-w-4xl mx-auto py-8 px-4">
        <div class="bg-white rounded-lg shadow-lg p-6">
            <h1 class="text-3xl font-bold text-gray-800 mb-6">
                <i class="fas fa-bullhorn text-purple-600 mr-3"></i>
                Notification Banner Admin
            </h1>
            
            <!-- Current Status -->
            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                <h2 class="text-lg font-semibold text-blue-800 mb-2">Current Banner Status</h2>
                <div id="current-status" class="text-blue-700">
                    Loading current configuration...
                </div>
            </div>
            
            <!-- Banner Configuration Form -->
            <form id="banner-form" class="space-y-6">
                <!-- Enable/Disable -->
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="flex items-center space-x-3">
                            <input type="checkbox" id="enabled" class="rounded border-gray-300 text-purple-600 focus:ring-purple-500">
                            <span class="text-lg font-medium text-gray-700">Enable Banner</span>
                        </label>
                    </div>
                    <div>
                        <label class="flex items-center space-x-3">
                            <input type="checkbox" id="dismissible" class="rounded border-gray-300 text-purple-600 focus:ring-purple-500">
                            <span class="text-lg font-medium text-gray-700">Users Can Dismiss</span>
                        </label>
                    </div>
                </div>
                
                <!-- Content -->
                <div class="grid md:grid-cols-1 gap-4">
                    <div>
                        <label for="title" class="block text-sm font-medium text-gray-700 mb-1">Banner Title</label>
                        <input type="text" id="title" class="w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500" placeholder="üé≠ Your announcement title">
                    </div>
                    <div>
                        <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Banner Message</label>
                        <textarea id="message" rows="2" class="w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500" placeholder="Detailed message about your announcement"></textarea>
                    </div>
                </div>
                
                <!-- Banner Type -->
                <div>
                    <label for="type" class="block text-sm font-medium text-gray-700 mb-1">Banner Style</label>
                    <select id="type" class="w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500">
                        <option value="event">Event (Purple) - New classes, workshops, performances</option>
                        <option value="announcement">Announcement (Blue) - General updates, news</option>
                        <option value="warning">Warning (Orange) - Important notices, schedule changes</option>
                        <option value="success">Success (Green) - Achievements, congratulations</option>
                    </select>
                </div>
                
                <!-- Call to Action -->
                <div class="grid md:grid-cols-3 gap-4">
                    <div>
                        <label class="flex items-center space-x-3">
                            <input type="checkbox" id="showButton" class="rounded border-gray-300 text-purple-600 focus:ring-purple-500">
                            <span class="text-sm font-medium text-gray-700">Show Action Button</span>
                        </label>
                    </div>
                    <div>
                        <label for="buttonText" class="block text-sm font-medium text-gray-700 mb-1">Button Text</label>
                        <input type="text" id="buttonText" class="w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500" placeholder="Learn More">
                    </div>
                    <div>
                        <label for="buttonLink" class="block text-sm font-medium text-gray-700 mb-1">Button Link</label>
                        <input type="text" id="buttonLink" class="w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500" placeholder="arangetram.html#requirements">
                    </div>
                </div>
                
                <!-- Storage Key -->
                <div>
                    <label for="storageKey" class="block text-sm font-medium text-gray-700 mb-1">
                        Storage Key 
                        <span class="text-xs text-gray-500">(Change this to show banner to users who previously dismissed it)</span>
                    </label>
                    <input type="text" id="storageKey" class="w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500" placeholder="rda_banner_unique_key">
                </div>
                
                <!-- Preview & Actions -->
                <div class="border-t pt-6">
                    <div class="flex flex-col sm:flex-row gap-4">
                        <button type="button" id="preview-btn" class="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors">
                            <i class="fas fa-eye mr-2"></i>Preview Banner
                        </button>
                        <button type="button" id="generate-btn" class="bg-purple-600 text-white px-6 py-2 rounded-md hover:bg-purple-700 transition-colors">
                            <i class="fas fa-code mr-2"></i>Generate Configuration
                        </button>
                        <button type="button" id="reset-dismissal-btn" class="bg-orange-600 text-white px-6 py-2 rounded-md hover:bg-orange-700 transition-colors">
                            <i class="fas fa-refresh mr-2"></i>Reset User Dismissals
                        </button>
                    </div>
                </div>
            </form>
            
            <!-- Generated Configuration -->
            <div id="generated-config" class="mt-8 hidden">
                <h3 class="text-lg font-semibold text-gray-800 mb-3">Generated Configuration</h3>
                <div class="bg-gray-900 rounded-lg p-4">
                    <pre id="config-output" class="text-green-400 text-sm overflow-auto"></pre>
                </div>
                <div class="mt-3 text-sm text-gray-600">
                    <p><strong>Instructions:</strong></p>
                    <ol class="list-decimal list-inside space-y-1">
                        <li>Copy the configuration above</li>
                        <li>Open <code>js/notification-banner.js</code></li>
                        <li>Replace the <code>bannerConfig</code> object (around line 8)</li>
                        <li>Save the file</li>
                        <li>Refresh your website to see the changes</li>
                    </ol>
                </div>
            </div>
            
            <!-- Preset Templates -->
            <div class="mt-8 border-t pt-6">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">Quick Templates</h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <button type="button" class="preset-btn text-left p-4 border border-gray-200 rounded-lg hover:border-purple-300 transition-colors" data-preset="event">
                        <div class="font-semibold text-purple-600">üé≠ New Event</div>
                        <div class="text-sm text-gray-600">Workshop, performance, or class announcement</div>
                    </button>
                    <button type="button" class="preset-btn text-left p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors" data-preset="schedule">
                        <div class="font-semibold text-blue-600">üìÖ Schedule Change</div>
                        <div class="text-sm text-gray-600">Class timing or date updates</div>
                    </button>
                    <button type="button" class="preset-btn text-left p-4 border border-gray-200 rounded-lg hover:border-orange-300 transition-colors" data-preset="urgent">
                        <div class="font-semibold text-orange-600">‚ö†Ô∏è Important Notice</div>
                        <div class="text-sm text-gray-600">Urgent announcements or closures</div>
                    </button>
                    <button type="button" class="preset-btn text-left p-4 border border-gray-200 rounded-lg hover:border-green-300 transition-colors" data-preset="success">
                        <div class="font-semibold text-green-600">üèÜ Achievement</div>
                        <div class="text-sm text-gray-600">Celebrations and success stories</div>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Preset configurations
        const presets = {
            event: {
                enabled: true,
                title: "üéâ Special Workshop This Weekend!",
                message: "Join us for an intensive Bharatanatyam workshop with guest artist. Register now!",
                type: "event",
                dismissible: true,
                showButton: true,
                buttonText: "Register Now",
                buttonLink: "workshops.html",
                storageKey: "rda_banner_workshop_" + Date.now()
            },
            schedule: {
                enabled: true,
                title: "üìÖ Schedule Update",
                message: "Please note: Classes on March 15th will be rescheduled. Check your emails for details.",
                type: "announcement",
                dismissible: true,
                showButton: true,
                buttonText: "View Schedule",
                buttonLink: "classes.html",
                storageKey: "rda_banner_schedule_" + Date.now()
            },
            urgent: {
                enabled: true,
                title: "‚ö†Ô∏è Important Notice",
                message: "Academy will be closed on March 10th due to maintenance. All classes resume March 11th.",
                type: "warning",
                dismissible: true,
                showButton: false,
                buttonText: "",
                buttonLink: "",
                storageKey: "rda_banner_urgent_" + Date.now()
            },
            success: {
                enabled: true,
                title: "üèÜ Congratulations!",
                message: "Our students won first place at the State Classical Dance Competition!",
                type: "success",
                dismissible: true,
                showButton: true,
                buttonText: "See Photos",
                buttonLink: "gallery.html",
                storageKey: "rda_banner_success_" + Date.now()
            }
        };

        // Load current configuration
        function loadCurrentConfig() {
            // This would ideally load from the actual banner file
            // For now, showing default configuration
            document.getElementById('current-status').innerHTML = `
                <div class="space-y-2">
                    <div><strong>Status:</strong> <span class="text-green-600">Enabled</span></div>
                    <div><strong>Current Message:</strong> "üé≠ New Arangetram Registration Open!"</div>
                    <div><strong>Type:</strong> Event (Purple)</div>
                </div>
            `;
        }

        // Fill form with preset
        function loadPreset(presetName) {
            const preset = presets[presetName];
            if (!preset) return;

            document.getElementById('enabled').checked = preset.enabled;
            document.getElementById('title').value = preset.title;
            document.getElementById('message').value = preset.message;
            document.getElementById('type').value = preset.type;
            document.getElementById('dismissible').checked = preset.dismissible;
            document.getElementById('showButton').checked = preset.showButton;
            document.getElementById('buttonText').value = preset.buttonText;
            document.getElementById('buttonLink').value = preset.buttonLink;
            document.getElementById('storageKey').value = preset.storageKey;
        }

        // Generate configuration
        function generateConfig() {
            const config = {
                enabled: document.getElementById('enabled').checked,
                title: document.getElementById('title').value,
                message: document.getElementById('message').value,
                type: document.getElementById('type').value,
                dismissible: document.getElementById('dismissible').checked,
                autoHide: false,
                autoHideDelay: 10000,
                showButton: document.getElementById('showButton').checked,
                buttonText: document.getElementById('buttonText').value,
                buttonLink: document.getElementById('buttonLink').value,
                storageKey: document.getElementById('storageKey').value
            };

            const configString = JSON.stringify(config, null, 4);
            document.getElementById('config-output').textContent = configString;
            document.getElementById('generated-config').classList.remove('hidden');
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            loadCurrentConfig();

            // Preset buttons
            document.querySelectorAll('.preset-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    loadPreset(this.dataset.preset);
                });
            });

            // Generate config button
            document.getElementById('generate-btn').addEventListener('click', generateConfig);

            // Preview button
            document.getElementById('preview-btn').addEventListener('click', function() {
                alert('Preview functionality would show a demo of the banner here!');
            });

            // Reset dismissals
            document.getElementById('reset-dismissal-btn').addEventListener('click', function() {
                const storageKey = document.getElementById('storageKey').value;
                if (storageKey) {
                    localStorage.removeItem(storageKey);
                    alert('User dismissals have been reset for this banner!');
                } else {
                    alert('Please enter a storage key first.');
                }
            });

            // Set default values
            loadPreset('event');
        });
    </script>
</body>
</html>
